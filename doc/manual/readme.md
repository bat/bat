Build
-----

### high level

go to `doc/`:

    make ref-guide # output in ref-guide/html
    make manual # output in ref-guide/html and latex/refman.pdf

Point to a local copy of mathjax

    export MATHJAX_RELPATH=/usr/share/javascript/mathjax/
    make manual

### details
create the reference guide first to create a tag file that is referenced from the manual

To make latex recognize `\newcommand`, put a symbolic link to `bat.sty` into `latex` subdirectory, then call `make pdf` there.

To define the same commands also for mathjax, follow http://stackoverflow.com/questions/40270302

For faster development, point mathjax to a local copy. Override options in `Doxyfile` like this

    (cat Doxyfile; echo "MATHJAX_RELPATH = /usr/share/javascript/mathjax") | doxygen -

adding a chapter
----------------

Create file 'chapter3.md', add in the proper location in `$input` in `Makefile.am`

     input = front.md basics.md bayes.md chapter3.md

Copy over the labeling of sections from `bayes.md`, it doesn't match the doxygen docs on markdown. Add `[TOC]` for a table of contents!

debugging doxygen
-----------------

    doxygen Doxyfile -d

images
------

From inkscape, export to png for html output with

    inkscape --export-area-drawing --export-png=random-walk.png --export-width 500 random-walk.svg

For every image that is autogenerated, add a rule to `manual/figures/Makefile`.

The markdown image support is not good enough for us, so import images separately for html and latex. Forcibly add both images to git! Also add them to `EXTRA_DIST` in `doc/manual/Makefile.am`

Keep the caption in `""` short because it doesn't look good in HTML and avoid math as mathjax fails in caption. Unfortunately caption has to be copied

    @anchor random-walk-2D
    @image html random-walk.png "2D random walk."
    @image latex random-walk.pdf "2D random walk." width=0.5\textwidth

Refer to the image with

    @ref random-walk-2D "2D example plot"

output specific code
----------

    @htmlonly
    some text only visible in the html output
    @endhtmlonly

    @latexonly
    some text only visible in the latex output
    @endlatexonly

source code examples
--------------------

Syntax highlighting (and linking in html) with

    @code{.cpp}
    double GetLogPrior(double x)
    {
        return -0.5 * (x - fMean) * (x - fMean) / fSigma / fSigma - log(fSigma) - 0.5 * log(2 * M_PI);
    }
    @endcode
