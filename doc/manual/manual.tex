\documentclass[11pt, a4paper]{article}

\usepackage{epsfig}

\setlength{\oddsidemargin}{0cm}
\setlength{\evensidemargin}{0cm}
\setlength{\topmargin}{-1cm}
\setlength{\textheight}{23cm}
\setlength{\textwidth}{16cm}

\pagestyle{headings}

\newcommand{\BAT}{{\sc BAT}}

%--------------------------------------------------------

\begin{document}

% --------------------------------------------------------
% title
% --------------------------------------------------------

\thispagestyle{empty} 

\begin{figure}
\leftline{\includegraphics[scale=0.25]{bat.eps} 
\hspace{9.0cm} 
version 0.1} 
\end{figure} 

\title{\BAT\ - A {\sc Bayesian Analysis Toolkit}} 

\author{A.~Caldwell, D.~Kollar, K.~Kr\"oninger} 

\maketitle

\begin{abstract} 
Abstract. 
\end{abstract} 

\pagebreak 

% --------------------------------------------------------
% introduction
% --------------------------------------------------------

\section{Introduction}

The \BAT\ software package is a framework for Bayesian inference. It
allows the user to perform an analysis from model comparisons,
parameter estimate to posterior model checking. The software is
written in C++ and provided in form of a library. It's main features
are (1)~it's flexibility to different types of applications (see
Section~\ref{subsection:problems}) and (2)~the modular structure of
the provided tools which allows the user to use different ready-made
code or provide own code. 

\subsection{Bayesian inference} 

\begin{itemize} 
\item General stuff about Bayesian inference. 
\end{itemize} 

\subsection{Addressed problems} 
\label{subsection:problems} 

The outcome of experiments in particle physics and cosmology are often
parameters extracted from a measured set of data. Different
statistical tools are developed for the variety of experiments and
measurements. The \BAT\ software package was written with the intention
to provide a collection of tools for Bayesian analyses. \\ 

Three examples of applications in the realm of physics and cosmology
are part of the package. These are 

\begin{itemize}
% 
\item Neutrinoless double beta-decay. In experiments built to search
for rare processes few signal events have to be distinguished from a
non-negligible background. Common approximations, e.g. Gaussian
distributions of count rates, do not apply in this case. The
comparison of models, i.e., signal and background vs. background only,
are emphasized for such experiments. 
% 
\item Cosmological models.  
%
\item Structure functions. 
%
\end{itemize}

% --------------------------------------------------------
% analysis 
% --------------------------------------------------------

\section{Analysis chain}

\subsection{The whole chain} 

\begin{itemize} 
\item Model comparison 
\item Parameter estimate 
\item Goodness-of-fit test 
\end{itemize}

\subsection{Pure parameter estimate} 

% --------------------------------------------------------
% Code structure 
% --------------------------------------------------------

\section{Code structure}

\subsection{Gooness-of-fit test} 

The goodness-of-fit test works in two steps. First, data sets are
generated for the model under study for a set of parameters, e.g. the
global best fit parameters. This can either be done within the
software package or using an external generator. Second, the
conditional probabilities for the data, given the parameter set, are
calculated and histogrammed. The p-value is calculated as the integral
from the conditional probability of the original data set to one. The
method for the goodness-of-fit test returns a pointer to a BCH1D
histogram. \\

\paragraph{Using data sets from external generators} 

Once the best fit parameter set is estimated, data sets can be
generated using an external generator. Each data set has to be written
into one file. One file is needed which contains a list of all data
set files. This file has to be passed to the goodness-of-fit method. 

\begin{verbatim} 
BCH1D* BCModel::DoGoodnessOfFitTest(const char* filename); 
\end{verbatim} 

\paragraph{Using the built-in generator} 

The software package can use a built-in data generator. Befor data
sets are generated it is important to confine the possible data
values and the number of points. This can be done by 

\begin{verbatim}
void SetDataPointLowerBoundaries(BCDataPoint* datasetlowerboundaries) 
void SetDataPointUpperBoundaries(BCDataPoint* datasetupperboundaries) 

void SetNDataPointsMinimum(int minimum) 
void SetNDataPointsMaximum(int maximum) 
\end{verbatim} 

If no constraints on the data sets are needed, e.g., fixed values in
one dimension, the goodness-of-fit method can be called with two
arguments, the number of data sets and the parameters with which the
data sets will be created.

\begin{verbatim} 
BCH1D* DoGoodnessOfFitTest(int ndatasets, std::vector<double> parameters); 
\end{verbatim} 

If the data are constraint a grid can be defined 

\begin{verbatim} 
BCH1D* DoGoodnessOfFitTest(int ndatasets, 
			   std::vector<double> parameters, 
			   std::vector <bool> grid, 
			   std::vector <double> limits); 
\end{verbatim} 

The vector \verb|grid| contains boolean flags for each data point
variable, where \verb|true| means the this variable is defined on a
grid, and \verb|false| means that it is random. For each grid
dimension the vector \verb|limit| contains three double, the starting
point, the interval between two neighboring points and the number of
grid points. \\ 

\paragraph{The built-in generator} 

% --------------------------------------------------------
% Examples
% --------------------------------------------------------

\section{Examples}

\subsection{Example 01: Straight line fit} 

\subsection{Example 02: Polynomial fitting} 

\subsection{Example 03: Spectral analysis} 

\subsection{Example 04: Efficiency calculation} 

% --------------------------------------------------------

\end{document} 


